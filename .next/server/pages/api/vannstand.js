"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/vannstand";
exports.ids = ["pages/api/vannstand"];
exports.modules = {

/***/ "(api)/./pages/api/vannstand.js":
/*!********************************!*\
  !*** ./pages/api/vannstand.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n// Next.js API route support: https://nextjs.org/docs/api-routes/introduction\nconst NVE_API_KEY = process.env.NVE_API_KEY;\nconst base = \"https://hydapi.nve.no\";\nconst path = \"/api/v1/Observations?\";\nconst stationId = \"2.101.0\";\nconst parameter = \"1000\";\nconst resolutionTime = \"hour\";\nconst daySpan = 7;\nconst offsetHours = 2;\nasync function handler(req, res) {\n    let fromDate;\n    if (req.query.fromDate) {\n        fromDate = new Date(parseInt(req.query.fromDate));\n    } else {\n        fromDate = new Date(new Date().setDate(new Date().getDate() - daySpan));\n    }\n    // offset for zulu time\n    fromDate = new Date(fromDate.setHours(-2));\n    //fromDate = new Date(fromDate.setHours(fromDate.getHours() - offsetHours));\n    //console.log(\"###### \", fromDate);\n    const year = fromDate.getFullYear();\n    let month = fromDate.getMonth() + 1;\n    month = month < 10 ? \"0\" + month : month;\n    let day = fromDate.getDate();\n    day = day < 10 ? \"0\" + day : day;\n    let hour = fromDate.getHours();\n    hour = hour < 10 ? \"0\" + hour : hour;\n    /**\r\n        ReferenceTime; Describes the time interval to get returned observations from. The interval has a start time and a end time.\r\n        ReferenceTime is implemented using the ISO-8601 standard and with some extensions.\r\n        The \"/\" is used as a separator between the start time and end time. Example \"2010-02-02/2012-03-03\".\r\n        If left side of \"/\" is left undefined, it will be handled as an open start returning all observations prior to the end time\r\n        If right side of \"/\" is left undefined, it will be handled as an open end returning all observations from the start time and forward\r\n        The observations includes the start and end times. All times is given in UTC-0\r\n    */ // const referenceTime = `${year}-${month}-${day}T${hour}:00/P${daySpan}D`;\n    const referenceTime = `${year}-${month}-${day}T${hour}:00/`;\n    //const referenceTime = `${year}-${month}-${day}T00:00/`;\n    const EndPoint = `${base}${path}StationId=${stationId}&Parameter=${parameter}&ResolutionTime=${resolutionTime}&ReferenceTime=${referenceTime}`;\n    const vannstandData = await getData(EndPoint, {}).then((data)=>{\n        return data;\n    });\n    res.status(200).send({\n        vannstandData\n    });\n};\nasync function getData(url = \"\", data = {}) {\n    const response = await fetch(url, {\n        method: \"GET\",\n        mode: \"no-cors\",\n        // cache: \"no-cache\", // *default, no-cache, reload, force-cache, only-if-cached\n        // credentials: \"same-origin\", // include, *same-origin, omit\n        headers: {\n            \"Content-Type\": \"text/plain;charset=UTF-8\",\n            \"x-api-key\": NVE_API_KEY\n        }\n    });\n    const measures = await response.json(); // parses JSON response into native JavaScript objects\n    return measures;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU15QyxRQUFRLEdBQUcsTUFBTUwsUUFBUSxDQUFDTSxJQUFJLEVBQUUsRUFBRTtJQUN4QyxPQUFPRCxRQUFRLENBQUM7Q0FDbkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92YW5uc3RhbmQtYXBpLy4vcGFnZXMvYXBpL3Zhbm5zdGFuZC5qcz82OTBmIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIE5leHQuanMgQVBJIHJvdXRlIHN1cHBvcnQ6IGh0dHBzOi8vbmV4dGpzLm9yZy9kb2NzL2FwaS1yb3V0ZXMvaW50cm9kdWN0aW9uXHJcbmNvbnN0IE5WRV9BUElfS0VZID0gcHJvY2Vzcy5lbnYuTlZFX0FQSV9LRVk7XHJcbmNvbnN0IGJhc2UgPSBcImh0dHBzOi8vaHlkYXBpLm52ZS5ub1wiO1xyXG5jb25zdCBwYXRoID0gXCIvYXBpL3YxL09ic2VydmF0aW9ucz9cIjtcclxuY29uc3Qgc3RhdGlvbklkID0gXCIyLjEwMS4wXCI7XHJcbmNvbnN0IHBhcmFtZXRlciA9IFwiMTAwMFwiO1xyXG5jb25zdCByZXNvbHV0aW9uVGltZSA9IFwiaG91clwiO1xyXG5jb25zdCBkYXlTcGFuID0gNztcclxuY29uc3Qgb2Zmc2V0SG91cnMgPSAyO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xyXG4gICAgbGV0IGZyb21EYXRlO1xyXG4gICAgaWYgKHJlcS5xdWVyeS5mcm9tRGF0ZSkge1xyXG4gICAgICAgIGZyb21EYXRlID0gbmV3IERhdGUocGFyc2VJbnQocmVxLnF1ZXJ5LmZyb21EYXRlKSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGZyb21EYXRlID0gbmV3IERhdGUobmV3IERhdGUoKS5zZXREYXRlKG5ldyBEYXRlKCkuZ2V0RGF0ZSgpIC0gZGF5U3BhbikpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIG9mZnNldCBmb3IgenVsdSB0aW1lXHJcbiAgICBmcm9tRGF0ZSA9IG5ldyBEYXRlKGZyb21EYXRlLnNldEhvdXJzKC0yKSk7XHJcbiAgICAvL2Zyb21EYXRlID0gbmV3IERhdGUoZnJvbURhdGUuc2V0SG91cnMoZnJvbURhdGUuZ2V0SG91cnMoKSAtIG9mZnNldEhvdXJzKSk7XHJcbiAgICAvL2NvbnNvbGUubG9nKFwiIyMjIyMjIFwiLCBmcm9tRGF0ZSk7XHJcblxyXG4gICAgY29uc3QgeWVhciA9IGZyb21EYXRlLmdldEZ1bGxZZWFyKCk7XHJcblxyXG4gICAgbGV0IG1vbnRoID0gZnJvbURhdGUuZ2V0TW9udGgoKSArIDE7XHJcbiAgICBtb250aCA9IG1vbnRoIDwgMTAgPyBcIjBcIiArIG1vbnRoIDogbW9udGg7XHJcblxyXG4gICAgbGV0IGRheSA9IGZyb21EYXRlLmdldERhdGUoKTtcclxuICAgIGRheSA9IGRheSA8IDEwID8gXCIwXCIgKyBkYXkgOiBkYXk7XHJcblxyXG4gICAgbGV0IGhvdXIgPSBmcm9tRGF0ZS5nZXRIb3VycygpO1xyXG4gICAgaG91ciA9IGhvdXIgPCAxMCA/IFwiMFwiICsgaG91ciA6IGhvdXI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgICAgUmVmZXJlbmNlVGltZTsgRGVzY3JpYmVzIHRoZSB0aW1lIGludGVydmFsIHRvIGdldCByZXR1cm5lZCBvYnNlcnZhdGlvbnMgZnJvbS4gVGhlIGludGVydmFsIGhhcyBhIHN0YXJ0IHRpbWUgYW5kIGEgZW5kIHRpbWUuXHJcbiAgICAgICAgUmVmZXJlbmNlVGltZSBpcyBpbXBsZW1lbnRlZCB1c2luZyB0aGUgSVNPLTg2MDEgc3RhbmRhcmQgYW5kIHdpdGggc29tZSBleHRlbnNpb25zLlxyXG4gICAgICAgIFRoZSBcIi9cIiBpcyB1c2VkIGFzIGEgc2VwYXJhdG9yIGJldHdlZW4gdGhlIHN0YXJ0IHRpbWUgYW5kIGVuZCB0aW1lLiBFeGFtcGxlIFwiMjAxMC0wMi0wMi8yMDEyLTAzLTAzXCIuXHJcbiAgICAgICAgSWYgbGVmdCBzaWRlIG9mIFwiL1wiIGlzIGxlZnQgdW5kZWZpbmVkLCBpdCB3aWxsIGJlIGhhbmRsZWQgYXMgYW4gb3BlbiBzdGFydCByZXR1cm5pbmcgYWxsIG9ic2VydmF0aW9ucyBwcmlvciB0byB0aGUgZW5kIHRpbWVcclxuICAgICAgICBJZiByaWdodCBzaWRlIG9mIFwiL1wiIGlzIGxlZnQgdW5kZWZpbmVkLCBpdCB3aWxsIGJlIGhhbmRsZWQgYXMgYW4gb3BlbiBlbmQgcmV0dXJuaW5nIGFsbCBvYnNlcnZhdGlvbnMgZnJvbSB0aGUgc3RhcnQgdGltZSBhbmQgZm9yd2FyZFxyXG4gICAgICAgIFRoZSBvYnNlcnZhdGlvbnMgaW5jbHVkZXMgdGhlIHN0YXJ0IGFuZCBlbmQgdGltZXMuIEFsbCB0aW1lcyBpcyBnaXZlbiBpbiBVVEMtMFxyXG4gICAgKi9cclxuXHJcbiAgICAvLyBjb25zdCByZWZlcmVuY2VUaW1lID0gYCR7eWVhcn0tJHttb250aH0tJHtkYXl9VCR7aG91cn06MDAvUCR7ZGF5U3Bhbn1EYDtcclxuICAgIGNvbnN0IHJlZmVyZW5jZVRpbWUgPSBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX1UJHtob3VyfTowMC9gO1xyXG4gICAgLy9jb25zdCByZWZlcmVuY2VUaW1lID0gYCR7eWVhcn0tJHttb250aH0tJHtkYXl9VDAwOjAwL2A7XHJcblxyXG4gICAgY29uc3QgRW5kUG9pbnQgPSBgJHtiYXNlfSR7cGF0aH1TdGF0aW9uSWQ9JHtzdGF0aW9uSWR9JlBhcmFtZXRlcj0ke3BhcmFtZXRlcn0mUmVzb2x1dGlvblRpbWU9JHtyZXNvbHV0aW9uVGltZX0mUmVmZXJlbmNlVGltZT0ke3JlZmVyZW5jZVRpbWV9YDtcclxuXHJcbiAgICBjb25zdCB2YW5uc3RhbmREYXRhID0gYXdhaXQgZ2V0RGF0YShFbmRQb2ludCwge30pLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgICByZXR1cm4gZGF0YTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHsgdmFubnN0YW5kRGF0YSB9KTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gZ2V0RGF0YSh1cmwgPSBcIlwiLCBkYXRhID0ge30pIHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7XHJcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLCAvLyAqR0VULCBQT1NULCBQVVQsIERFTEVURSwgZXRjLlxyXG4gICAgICAgIG1vZGU6IFwibm8tY29yc1wiLCAvLyBuby1jb3JzLCAqY29ycywgc2FtZS1vcmlnaW5cclxuICAgICAgICAvLyBjYWNoZTogXCJuby1jYWNoZVwiLCAvLyAqZGVmYXVsdCwgbm8tY2FjaGUsIHJlbG9hZCwgZm9yY2UtY2FjaGUsIG9ubHktaWYtY2FjaGVkXHJcbiAgICAgICAgLy8gY3JlZGVudGlhbHM6IFwic2FtZS1vcmlnaW5cIiwgLy8gaW5jbHVkZSwgKnNhbWUtb3JpZ2luLCBvbWl0XHJcbiAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcInRleHQvcGxhaW47Y2hhcnNldD1VVEYtOFwiLFxyXG4gICAgICAgICAgICBcIngtYXBpLWtleVwiOiBOVkVfQVBJX0tFWSxcclxuICAgICAgICAgICAgLy8gQWNjZXB0OiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgICAgICAgLy8gXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLy8gcmVkaXJlY3Q6IFwiZm9sbG93XCIsIC8vIG1hbnVhbCwgKmZvbGxvdywgZXJyb3JcclxuICAgICAgICAvLyByZWZlcnJlclBvbGljeTogXCJuby1yZWZlcnJlclwiLCAvLyBuby1yZWZlcnJlciwgKm5vLXJlZmVycmVyLXdoZW4tZG93bmdyYWRlLCBvcmlnaW4sIG9yaWdpbi13aGVuLWNyb3NzLW9yaWdpbiwgc2FtZS1vcmlnaW4sIHN0cmljdC1vcmlnaW4sIHN0cmljdC1vcmlnaW4td2hlbi1jcm9zcy1vcmlnaW4sIHVuc2FmZS11cmxcclxuICAgICAgICAvLyBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSwgLy8gYm9keSBkYXRhIHR5cGUgbXVzdCBtYXRjaCBcIkNvbnRlbnQtVHlwZVwiIGhlYWRlclxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgbWVhc3VyZXMgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7IC8vIHBhcnNlcyBKU09OIHJlc3BvbnNlIGludG8gbmF0aXZlIEphdmFTY3JpcHQgb2JqZWN0c1xyXG4gICAgcmV0dXJuIG1lYXN1cmVzO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJOVkVfQVBJX0tFWSIsInByb2Nlc3MiLCJlbnYiLCJiYXNlIiwicGF0aCIsInN0YXRpb25JZCIsInBhcmFtZXRlciIsInJlc29sdXRpb25UaW1lIiwiZGF5U3BhbiIsIm9mZnNldEhvdXJzIiwiaGFuZGxlciIsInJlcSIsInJlcyIsImZyb21EYXRlIiwicXVlcnkiLCJEYXRlIiwicGFyc2VJbnQiLCJzZXREYXRlIiwiZ2V0RGF0ZSIsInNldEhvdXJzIiwieWVhciIsImdldEZ1bGxZZWFyIiwibW9udGgiLCJnZXRNb250aCIsImRheSIsImhvdXIiLCJnZXRIb3VycyIsInJlZmVyZW5jZVRpbWUiLCJFbmRQb2ludCIsInZhbm5zdGFuZERhdGEiLCJnZXREYXRhIiwidGhlbiIsImRhdGEiLCJzdGF0dXMiLCJzZW5kIiwidXJsIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsIm1vZGUiLCJoZWFkZXJzIiwibWVhc3VyZXMiLCJqc29uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/vannstand.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/vannstand.js"));
module.exports = __webpack_exports__;

})();